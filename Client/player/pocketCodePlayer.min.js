'use strict';if(!PocketCode)var PocketCode={};PocketCode.server=0;if(PocketCode.server===0)PocketCode.domain='https://share.catrob.at/';else if(PocketCode.server===1)PocketCode.domain='https://web-test.catrob.at/';else PocketCode.domain='http://localhost/';PocketCode.websiteUrl=PocketCode.domain+'pocketcode/';PocketCode.projectUrl=PocketCode.websiteUrl+'program/{projectId}';PocketCode.mobileUrl=PocketCode.domain+'html5/player/{projectId}';PocketCode.mobileUrlRfc3066=PocketCode.domain+'html5/player/{projectId}/{rfc3066}';PocketCode.logoUrl=PocketCode.domain+'html5/pocketCode/img/logo.png';document.addEventListener('DOMContentLoaded',function(){var a=window.location.hostname,localFile=window.location.protocol=='file:';var b;if(!localFile&&(a==='localhost'||a===''))b='pocketCodePlayer.css';else b=PocketCode.domain+'html5/player/pocketCodePlayer.css';var c=document.createElement('link');c.href=b;c.type='text/css';c.rel='stylesheet';document.getElementsByTagName('head')[0].appendChild(c)});PocketCode.crossOrigin=new((function(){function CrossOrigin(){this._current=true;this._supported=false;this._initialized=false;var b=window.location,a=document.createElement('a');a.href=PocketCode.domain;var c=b.protocol=='https:'?'443':b.port;var d=a.port;if(d=='0')d='';if(a.hostname==b.hostname&&(d==b.port||d==c)&&a.protocol==b.protocol){this._current=false;this._initialized=true}else{var e=new Image();if(!('crossOrigin'in e)){this._initialized=true;return}e.crossOrigin='anonymous';e.onload=function(){this._supported=true;this._initialized=true}.bind(this);e.onerror=function(){this._supported=false;this._initialized=true}.bind(this);e.src=PocketCode.domain+'html5/pocketCode/img/favicon.png'}}Object.defineProperties(CrossOrigin.prototype,{current:{get:function(){return this._current},},supported:{get:function(){return this._supported},},initialized:{get:function(){return this._initialized},},});return CrossOrigin})())(),PocketCode.Web={resourceRoot:'',FullscreenApi:new((function(){function FullscreenApi(){if(window.addEventListener)window.addEventListener('load',this._initOnLoad.bind(this),false)}FullscreenApi.prototype={_initOnLoad:function(){this.supported=function(){if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)return true;return false}();if(this.supported){this._addDomListener(document,'fullscreenchange',this._fullscreenchangeHandler);this._addDomListener(document,'webkitfullscreenchange',this._fullscreenchangeHandler);this._addDomListener(document,'mozfullscreenchange',this._fullscreenchangeHandler);this._addDomListener(document,'MSFullscreenChange',this._fullscreenchangeHandler)}this.lastExitDate=Date.now();this.onFullscreenChange=function(a){}},_addDomListener:function(a,b,c){var d=function(e){e.stopPropagation();return c.call(this,e)}.bind(this);if(a.addEventListener)a.addEventListener(b,d,false);return d},_removeDomListener:function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent('on'+b,c)},bindF11:function(){if(this.supported&&!this.isBrowserFullscreen()){this._l1=this._addDomListener(document,'keydown',this._keyHandler);this._l2=this._addDomListener(document,'keyup',this._keyHandler);this._l3=this._addDomListener(document,'keypress',this._keyHandler)}},unbindF11:function(){if(!this._l1||!this._l2||!this._l3)return;this._removeDomListener(document,'keydown',this._l1);this._removeDomListener(document,'keyup',this._l2);this._removeDomListener(document,'keypress',this._l3)},isJsFullscreen:function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)return true;return false},isBrowserFullscreen:function(){return(window.outerHeight>=screen.height&&window.outerWidth>=screen.width)},requestFullscreen:function(a){a=a||document.documentElement;if(a.requestFullscreen){a.requestFullscreen()}else if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else if(a.msRequestFullscreen){a.msRequestFullscreen()}},exitFullscreen:function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}},toggleFullscreen:function(e){if(this.supported){if(this.isJsFullscreen())this.exitFullscreen();else this.requestFullscreen()}},_fullscreenchangeHandler:function(e){window.setTimeout(function(){var a=this.isJsFullscreen;if(!a())this.lastExitDate=Date.now();this.onFullscreenChange(a())}.bind(this),10)},_keyHandler:function(e){e=e||window.event;var a=e.keyCode||e.which;if(a===122&&!e.altKey){e.preventDefault();e.stopPropagation();if(e.type==='keydown'&&!this.lastKeyDown){this.lastKeyDown=Date.now()}else if(e.type==='keyup'){var b=this.lastKeyDown-this.lastExitDate;if(!isNaN(b)&&b>700)this.toggleFullscreen(e);this.lastKeyDown=undefined}return false}},};return FullscreenApi})())(),ExitButton:(function(){function ExitButton(){var a=document.createElement('button');a.className='pc-webButton pc-backButton';a.innerHTML='<svg viewBox="0,0,64,64" preserveAspectRatio="xMidYMin meet">'+'<path d="M32,1C14.88,1,1,14.88,1,31.999C1,49.12,14.88,63,32,63s31-13.88,31-31.001C63,14.88,49.12,1,32,1zM32,56.979c-13.796,0-24.98-11.184-24.98-24.98c0-13.795,11.185-24.98,24.98-24.98s24.979,11.186,24.979,24.98C56.979,45.796,45.796,56.979,32,56.979z"></path>'+'<polygon points="27.583,32 39.629,44.395 35.001,49 18.371,32 35.001,15 39.629,19.605" class="pc-svgPlayerIcon"></polygon>'+'</svg>'+'<span>Exit</span>';this.dom=a}return ExitButton})(),WebOverlay:(function(){function WebOverlay(){this.hwRatio=15/9;this.hPixelOffset=160;this.vPixelOffset=34;this.vpMinHeight=370;var a=document.createElement('div');a.className='pc-playerViewport';this.viewportContainer=a;var b=document.createElement('button');b.className='pc-webButton';b.innerHTML='<svg viewBox="0,0,64,64" preserveAspectRatio="xMidYMin meet">'+'<polygon points="60.963,50.831 42.124,31.996 60.96,13.159 50.831,3.037 31.999,21.874 13.164,3.04 3.037,13.16 21.876,31.998 3.039,50.836 13.159,60.963 32,42.12 50.842,60.96" />'+'</svg>';this.closeButton=b;b=document.createElement('button');b.className='pc-webButton';b.innerHTML='<svg viewBox="0,0,64,64" preserveAspectRatio="xMidYMin meet">'+'<path d="M18.196,56.064L23.122,61H3V40.879l4.936,4.926l8.06-8.061l10.26,10.262L18.196,56.064z M40.879,3 l4.926,4.935l-7.896,7.896L48.17,26.09l7.896-7.895L61,23.122V3H40.879z M7.936,18.196L3,23.122V3h20.122l-4.927,4.935l8.06,8.06 L15.993,26.256L7.936,18.196z M61,40.879l-4.936,4.926l-7.895-7.896L37.909,48.17l7.895,7.896L40.879,61H61V40.879z" />'+'</svg>';this.fullscreenButton=b;b=document.createElement('button');b.className='pc-webButton';b.innerHTML='<svg viewBox="0,0,64,64" preserveAspectRatio="xMidYMin meet">'+'<path d="M14.878,42.697H6.903c-2.136,0-3.867-1.729-3.867-3.866V25.165c0-2.135,1.731-3.866,3.867-3.866h7.976 L14.878,42.697L14.878,42.697z M19.225,20.34v23.315l18.687,10.764V9.581L19.225,20.34z M60.964,37.92l-5.926-5.922l5.925-5.926 l-3.186-3.184l-5.922,5.925l-5.927-5.925l-3.184,3.184l5.925,5.926l-5.925,5.926l3.183,3.184l5.928-5.927l5.925,5.927L60.964,37.92z" />'+'</svg>';this.muteButton=b;var c=document.createElement('div');c.className='pc-webOverlay';c.dir='ltr';c.innerHTML='<div class="pc-webOpacity"></div>'+'<div class="pc-logo">'+'<img src="'+PocketCode.logoUrl+'" alt="PocketCode" /></div>';var d=document.createElement('div');d.className='pc-webLayout';c.appendChild(d);var e=document.createElement('div');e.className='pc-webLayoutRow';e.innerHTML='<div class="pc-leftCol">'+'<div class="pc-webLink"><a href="'+PocketCode.websiteUrl+'"></a></div></div>';d.appendChild(e);var f=document.createElement('div');f.className='pc-centerCol';e.appendChild(f);var g=document.createElement('div');g.className='pc-webViewportBorder';f.appendChild(g);g.appendChild(this.viewportContainer);var h=document.createElement('div');h.className='pc-rightCol';e.appendChild(h);var i=document.createElement('div');this.menuContainer=i;i.className='pc-webMenu';h.appendChild(i);i.appendChild(this.closeButton);i.appendChild(this.fullscreenButton);i.appendChild(this.muteButton);this.muteButton.disabled=true;this._dom=c;this.hidden=true;this._addDomListener(window,'resize',this._onResizeHandler);this._addDomListener(this.fullscreenButton,'click',this._toggleFullscreenHandler);this._addDomListener(this.fullscreenButton,'touchend',this._toggleFullscreenHandler)}WebOverlay.prototype={_addDomListener:function(a,b,c){var d=function(e){e.stopPropagation();return c.call(this,e)}.bind(this);if(a.addEventListener)a.addEventListener(b,d,false);return d},_removeDomListener:function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false)},_onResizeHandler:function(e){var a=this.viewportContainer.style;var b=window.innerWidth-this.hPixelOffset;var c=window.innerHeight-this.vPixelOffset;if(c<this.vpMinHeight)c=this.vpMinHeight;var d=this.hwRatio,w,h;if(d>=c/b){h=c;w=c/d}else{w=b;h=b*d}if(h<this.vpMinHeight){h=this.vpMinHeight;w=h/d}a.width=Math.ceil(w)+'px';a.height=Math.ceil(h)+'px'},_toggleFullscreenHandler:function(e){PocketCode.Web.FullscreenApi.toggleFullscreen()},appendControl:function(a){this._splashScreen=a;this.viewportContainer.appendChild(a._dom)},show:function(){this.hidden=false;this._clickHandler=this._addDomListener(document,'click',function(e){if(!(e.target instanceof HTMLInputElement)&&(!(e.target instanceof HTMLLabelElement)||typeof e.target.htmlFor!='string'))e.preventDefault()});this._dblClickHandler=this._addDomListener(document,'dblclick',function(e){e.preventDefault()});this._touchStartHandler=this._addDomListener(document,'touchstart',function(e){if(!(e.target instanceof HTMLInputElement)&&(!(e.target instanceof HTMLLabelElement)||typeof e.target.htmlFor!='string'))e.preventDefault()});this._touchLeaveandler=this._addDomListener(document,'touchleave',function(e){e.preventDefault()});this._touchMoveHandler=this._addDomListener(document,'touchmove',function(e){e.preventDefault()});var a=PocketCode.Web.FullscreenApi;if(a.supported&&!a.isBrowserFullscreen())this.fullscreenButton.disabled=false;else this.fullscreenButton.disabled=true;this._onResizeHandler();PocketCode.Web.FullscreenApi.bindF11();document.body.className+=' pc-webBody ';document.body.appendChild(this._dom);if(this._splashScreen)this._splashScreen.show()},hide:function(){this.hidden=true;this._removeDomListener(document,'click',this._clickHandler);this._removeDomListener(document,'dblclick',this._dblClickHandler);this._removeDomListener(document,'touchstart',this._touchStartHandler);this._removeDomListener(document,'touchleave',this._touchLeaveandler);this._removeDomListener(document,'touchmove',this._touchMoveHandler);document.body.removeChild(this._dom);if(this._splashScreen)this._splashScreen.hide();PocketCode.Web.FullscreenApi.unbindF11();PocketCode.Web.FullscreenApi.exitFullscreen();document.body.className=document.body.className.replace(' pc-webBody ','').trim()},setHWRatio:function(a){if(this.hwRatio==a)return;this.hwRatio=a;this._onResizeHandler()},setUiDirection:function(a){this._dom.dir=a},appendEmulator:function(a){if(this._deviceEmulator)this._dom.removeChild(a.dom);if(!a)return;this._deviceEmulator=a;this._dom.appendChild(a.dom)}};return WebOverlay})(),LoadingIndicator:(function(){function LoadingIndicator(){var a=document.createElement('div');a.className='pc-liContainer pc-liBaseColor';this.progressBar=document.createElement('div');this.progressBar.className='pc-liFillColor pc-liBar pc-liProgress';a.appendChild(this.progressBar);var b=document.createElement('div');b.className='pc-li';a.appendChild(b);this._progressItems=document.createElement('div');this._progressItems.className='pc-liProgressStyle';for(var i=0;i<7;i++){this._progressItems.appendChild(document.createElement('div'))}b.appendChild(this._progressItems);this._dom=a;this._pendingCount=0}LoadingIndicator.prototype={show:function(){this._dom.style.display='';if(this.progressBar.style.display=='none')this.setPending()},hide:function(){this._dom.style.display='none';if(this._loadingTimer)clearInterval(this._loadingTimer)},setProgress:function(a){if(typeof a!=='number'||a<0.0||a>100.0)throw new Error('invalid parameter: percentage');this.hidePending();var b=this.progressBar.style;b.display='';b.width=a+'%'},hideProgress:function(){this.progressBar.style.display='none'},_renderPending:function(){this._pendingCount++;var a=this._progressItems.children;if(this._pendingCount>a.length+3)this._pendingCount=1;for(var i=1,l=a.length;i<=l;i++){if(i>=this._pendingCount-3&&i<=this._pendingCount)a[i-1].style.backgroundColor='#ef7716';else a[i-1].style.backgroundColor=''}},setPending:function(){this.hideProgress();this._renderPending();this._loadingTimer=setInterval(this._renderPending.bind(this),400)},hidePending:function(){if(this._loadingTimer)clearInterval(this._loadingTimer);this._pendingCount=0;var a=this._progressItems.children;for(var i=0,l=a.length;i<l;i++)a[i].style.backgroundColor=''},};return LoadingIndicator})(),SplashScreen:(function(){function SplashScreen(){this._loadingText='loading ... ';this._initialisingText='initialising ...';this._errorText='Error: loading failed';var a=document.createElement('div');a.className='pc-webLayout pc-splashScreen';a.dir='ltr';var b=document.createElement('div');b.className='pc-webLayoutRow';a.appendChild(b);this._container=document.createElement('div');this._container.className='pc-centerCol';b.appendChild(this._container);var c=document.createElement('div');c.className='pc-splashDialog';this._container.appendChild(c);var d=document.createElement('div');d.className='pc-splashLoadingText pc-splashLoadingColor';d.innerHTML='&lt;Pocket<span class="f">Code</span>&nbsp;/&gt;';c.appendChild(d);var e=document.createElement('div');e.className='pc-splashLoadingColor pc-splashLoadingSubText';this._text=document.createTextNode(this._loadingText);e.appendChild(this._text);c.appendChild(e);this._loadingIndicator=new PocketCode.Web.LoadingIndicator();c.appendChild(this._loadingIndicator._dom);this._dom=a;if(window.addEventListener)window.addEventListener('resize',this._onResizeHandler.bind(this),false)}SplashScreen.prototype={_addDomListener:function(a,b,c){var d=c.bind(this);a.addEventListener(b,d,false);return d},_removeDomListener:function(a,b,c){a.removeEventListener(b,c,false)},_onResizeHandler:function(e){var a=Math.round(this._dom.offsetWidth*0.6/19.4);var b=Math.round(window.innerHeight*0.3/9.0);a=(a<b)?a:b;a=(a<10)?10:a;a=(a>14)?14:a;this._dom.style.fontSize=a+'px'},show:function(){this._clickHandler=this._addDomListener(document,'click',function(e){e.preventDefault()});this._dblClickHandler=this._addDomListener(document,'dblclick',function(e){e.preventDefault()});this._touchStartHandler=this._addDomListener(document,'touchstart',function(e){e.preventDefault()});this._touchLeaveandler=this._addDomListener(document,'touchleave',function(e){e.preventDefault()});this._touchMoveHandler=this._addDomListener(document,'touchmove',function(e){e.preventDefault()});this._loadingIndicator.show();this._dom.style.display='';this._onResizeHandler()},hide:function(){this._removeDomListener(document,'click',this._clickHandler);this._removeDomListener(document,'dblclick',this._dblClickHandler);this._removeDomListener(document,'touchstart',this._touchStartHandler);this._removeDomListener(document,'touchleave',this._touchLeaveandler);this._removeDomListener(document,'touchmove',this._touchMoveHandler);this._dom.style.display='none';this._loadingIndicator.hide()},showBorder:function(){this._container.className+=' pc-splashScreenBorder '},hideBorder:function(){this._container.className=this._container.className.replace(' pc-splashScreenBorder ','').trim()},setProgress:function(a,b){if(a!==b){this._text.nodeValue=this._loadingText+'['+a+'/'+b+']';this._loadingIndicator.setProgress(100/b*a)}else{this._text.nodeValue=this._initialisingText;this._loadingIndicator.setPending()}},showError:function(){this._loadingIndicator.setProgress(0);this._text.parentNode.style.color='#A31515';this._text.nodeValue=this._errorText},};return SplashScreen})(),ResourceLoader:(function(){function ResourceLoader(a){this._resources=a;this._root=a.root;this._files=a.files;this._version=Date.now().toString().substring(3,6);this.onProgress=function(){};this.onError=function(){}};ResourceLoader.prototype={startLoading:function(){this._loadingAborted=false;var a=0;var b=this._files;if(b.length>0){this._updateProgress(0,b.length);this._loadingFileIdx=0;var c=b[0];this._requestFile(this._root,c,this._onFileLoadHandler,this._onErrorHandler)}},abortLoading:function(){this._loadingAborted=true},_requestFile:function(a,b,c,d){var e=a+b.url;if(document.getElementById(e)){setTimeout(c.bind(this),10);return}var f=document.head||document.getElementsByTagName("head")[0];switch(b.type){case'js':var g=false;var h=document.createElement("script");h.async=false;h.onerror=d.bind(this);h.onload=h.onreadystatechange=function(){if(!g&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){g=true;h.onload=h.onreadystatechange=null;setTimeout(c.bind(this),10)}}.bind(this);f.appendChild(h);h.id=e;h.src=e+'?v='+this._version;break;case'css':var i=document.createElement("link");i.type="text/css";i.rel="stylesheet";i.id=e;f.appendChild(i);var j=new Image();j.onerror=function(){i.href=e;setTimeout(c.bind(this),10)}.bind(this);j.src=e+'?v='+this._version;break}},_onFileLoadHandler:function(){if(this._errorOccured)return;if(this._loadingAborted)return;var a=this._files;var l=a.length;if(this._loadingFileIdx++<l-1){this._updateProgress(this._loadingFileIdx,l);var b=a[this._loadingFileIdx];this._requestFile(this._root,b,this._onFileLoadHandler,this._onErrorHandler)}else{this._updateProgress(l,l)}},_updateProgress:function(a,b){this.onProgress(a,b)},_onErrorHandler:function(e){this._errorOccured=true;if(this._loadingTimer)clearInterval(this._loadingTimer);this.onError()},};return ResourceLoader})(),PlayerInterface:new((function(){function PlayerInterface(){this._domLoaded=false;this._addDomListener(window,'load',this._initOnLoad);this._isMobile=(typeof ((window.orientation!==undefined)?window.orientation:((window.screen!==undefined)?window.screen.orientation.angle:undefined))!=='undefined')||!!navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Phone|ZuneWP7|WPDesktop|webOS/i)}PlayerInterface.prototype={_addDomListener:function(a,b,c){var d=function(e){e.stopPropagation();return c.call(this,e)}.bind(this);if(a.addEventListener)a.addEventListener(b,d,false);return d},_removeDomListener:function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.detachEvent('on'+b,c)},_initOnLoad:function(){this._domLoaded=true;this._splashScreen=new PocketCode.Web.SplashScreen();this._loader=new PocketCode.Web.ResourceLoader(PocketCode.Web.resources);this._loader.onError=this._loaderOnError.bind(this);this._loader.onProgress=this._loaderOnProgress.bind(this);if(this._projectId)this.launchProject(this._projectId,this._rfc3066)},launchProject:function(c,d,e){if(!window.addEventListener){alert('sorry.. your browser does not meet the HTML5 feature requirements to run this application');return}this._redirected=!!document.getElementById('97F79358-0DA5-4243-8C1C-A1AE3BF226C0');if(c)this._projectId=c;this._rfc3066=d;if(!this._domLoaded)return;var f='';if(d){f=PocketCode.mobileUrlRfc3066.replace('{projectId}',this._projectId);f=f.replace('{rfc3066}',d)}else f=PocketCode.mobileUrl.replace('{projectId}',this._projectId);if(!PocketCode.crossOrigin.initialized){window.setTimeout(this.launchProject.bind(this,c,d,e),100);return}if((this._isMobile&&window.location.href!==f&&window.location.hostname!=='localhost')||(PocketCode.crossOrigin.current&&!PocketCode.crossOrigin.supported))window.location=f;if(this._isMobile){this._launchMobile();return}var g=new PocketCode.Web.WebOverlay();this._addDomListener(g.closeButton,'click',this._closeHandler);this._addDomListener(g.closeButton,'touchend',this._closeHandler);this._keyupListener=this._addDomListener(document,'keyup',this._keyHandler);if(this._redirected)g.closeButton.disabled=true;this._addDomListener(g.muteButton,'click',this._muteHandler);this._addDomListener(g.muteButton,'touchend',this._muteHandler);this._webOverlay=g;g.appendControl(this._splashScreen);var h=PocketCode.Web.FullscreenApi;h.onFullscreenChange=function(a){var b=g.fullscreenButton;b.blur();if(a)b.className+=' pc-webButtonChecked ';else b.className=b.className.replace(' pc-webButtonChecked ','').trim()};g.show();this._loader.startLoading()},_launchMobile:function(){window.addEventListener('orientationchange',function(e){window.scrollTo(0,0)},false);this._splashScreen.showBorder();document.body.appendChild(this._splashScreen._dom);this._splashScreen.show();this._exitButton=new PocketCode.Web.ExitButton();this._exitButton.dom.addEventListener('click',this._closeHandler.bind(this),false);this._exitButton.dom.addEventListener('touchend',this._closeHandler.bind(this),false);document.body.appendChild(this._exitButton.dom);this._loader.startLoading()},_initApplication:function(a){if(this._webOverlay&&this._webOverlay.hidden)return;var b=this._webOverlay?this._webOverlay.viewportContainer:undefined;this._player=new PocketCode.Player.Application(b,this._rfc3066,a);this._player.onInit.addEventListener(new SmartJs.Event.EventListener(this._applicationInitHandler,this));this._player.onUiDirectionChange.addEventListener(new SmartJs.Event.EventListener(this._uiDirectionChangeHandler,this));this._player.onExit.addEventListener(new SmartJs.Event.EventListener(this._closeHandler,this));this._player.onEmulatorLoaded.addEventListener(new SmartJs.Event.EventListener(this._deviceEmulatorLoadHandler,this));if(this._isMobile){this._player.onMobileInitRequired.addEventListener(new SmartJs.Event.EventListener(this._reinitMobileHandler,this))}else{this._player.onHWRatioChange.addEventListener(new SmartJs.Event.EventListener(this._applicationRatioChangetHandler,this))}this._player.loadProject(this._projectId)},_reinitMobileHandler:function(e){this._splashScreen.show();this._splashScreen.setProgress(0,0);this._player.dispose();this._initApplication(true)},_applicationInitHandler:function(e){this._splashScreen.hide();if(this._exitButton){document.body.removeChild(this._exitButton.dom);delete this._exitButton}if(e.menu){e.menu.addToDom(this._webOverlay.menuContainer)}this._splashScreen.setProgress(0,PocketCode.Web.resources.files.length);if(this._webOverlay)this._webOverlay.muteButton.disabled=false},_uiDirectionChangeHandler:function(e){if(this._webOverlay)this._webOverlay.setUiDirection(e.direction)},_applicationRatioChangetHandler:function(e){if(this._webOverlay)this._webOverlay.setHWRatio(e.ratio)},_loaderOnError:function(){this._splashScreen.showError()},_loaderOnProgress:function(a,b){this._splashScreen.setProgress(a,b);if(a===b)this._initApplication()},_muteHandler:function(e){var a=this._webOverlay.muteButton;a.blur();var b=this._player.toggleMuteSounds();if(b)a.className+=' pc-webButtonChecked ';else a.className=a.className.replace(' pc-webButtonChecked ','').trim()},_keyHandler:function(e){if(!this._redirected&&e.keyCode==27&&(!this._player||(this._player&&!this._player.hasOpenDialogs))){this._removeDomListener(document,'keyup',this._keyupListener);this._closeHandler()}},_closeHandler:function(e){this._loader.abortLoading();try{this._splashScreen.hide();if(this._exitButton)document.body.removeChild(this._exitButton.dom);if(this._webOverlay){this._webOverlay.hide();if(this._webOverlay.muteButton){var a=this._webOverlay.muteButton;a.className=a.className.replace(' pc-webButtonChecked ','').trim();a.disabled=true}}this._projectId=undefined;this._rfc3066=undefined}catch(e){}if(this._player){try{this._player.onInit.removeEventListener(new SmartJs.Event.EventListener(this._applicationInitHandler,this));this._player.onUiDirectionChange.removeEventListener(new SmartJs.Event.EventListener(this._uiDirectionChangeHandler,this));this._player.onHWRatioChange.removeEventListener(new SmartJs.Event.EventListener(this._applicationRatioChangetHandler,this));this._player.onExit.removeEventListener(new SmartJs.Event.EventListener(this._closeHandler,this));this._player.onEmulatorLoaded.removeEventListener(new SmartJs.Event.EventListener(this._deviceEmulatorLoadHandler,this));this._player.dispose()}catch(e){}}if(this._redirected){if(history.length>0)history.back();else window.close()}},_deviceEmulatorLoadHandler:function(e){this._webOverlay.appendEmulator(e.emulator)},};return PlayerInterface})())(),};PocketCode.Web.resources={root:function(){var a=window.location.hostname,localFile=window.location.protocol=='file:';if(!localFile&&(a==='localhost'||a===''))return'../';return PocketCode.domain+'html5/'}(),files:[{url:'pocketCode/libs/smartJs/sj.custom.min.js',type:'js'},{url:'pocketCode/libs/soundjs/soundjs-0.6.1.custom.min.js',type:'js'},{url:'pocketCode/libs/iscroll/iscroll-5.3.1.custom.min.js',type:'js'},{url:'pocketCode/css/pocketCode.min.css',type:'css'},{url:'pocketCode/scripts/core.js',type:'js'},{url:'pocketCode/scripts/ui.js',type:'js'},{url:'pocketCode/scripts/model/bricksCore.js',type:'js'},{url:'pocketCode/scripts/model/bricksControl.js',type:'js'},{url:'pocketCode/scripts/model/bricksEvent.js',type:'js'},{url:'pocketCode/scripts/model/bricksLook.js',type:'js'},{url:'pocketCode/scripts/model/bricksMotion.js',type:'js'},{url:'pocketCode/scripts/model/bricksPen.js',type:'js'},{url:'pocketCode/scripts/model/bricksSound.js',type:'js'},{url:'pocketCode/scripts/model/bricksData.js',type:'js'},{url:'pocketCode/scripts/model/bricksUserScript.js',type:'js'},{url:'pocketCode/scripts/model/userVariable.js',type:'js'},{url:'pocketCode/scripts/model/userVariableHost.js',type:'js'},{url:'pocketCode/scripts/model/look.js',type:'js'},{url:'pocketCode/scripts/model/sprite.js',type:'js'},{url:'pocketCode/scripts/model/scene.js',type:'js'},{url:'pocketCode/scripts/components/publishSubscribe.js',type:'js'},{url:'pocketCode/scripts/components/collisionManager.js',type:'js'},{url:'pocketCode/scripts/components/physicsWorld.js',type:'js'},{url:'pocketCode/scripts/components/deviceFeature.js',type:'js'},{url:'pocketCode/scripts/components/device.js',type:'js'},{url:'pocketCode/scripts/components/formula.js',type:'js'},{url:'pocketCode/scripts/components/imageHelper.js',type:'js'},{url:'pocketCode/scripts/components/imageStore.js',type:'js'},{url:'pocketCode/scripts/components/gameEngine.js',type:'js'},{url:'pocketCode/scripts/components/i18nProvider.js',type:'js'},{url:'pocketCode/scripts/components/math.js',type:'js'},{url:'pocketCode/scripts/components/loggingProvider.js',type:'js'},{url:'pocketCode/scripts/components/parser.js',type:'js'},{url:'pocketCode/scripts/components/proxy.js',type:'js'},{url:'pocketCode/scripts/components/renderingItem.js',type:'js'},{url:'pocketCode/scripts/components/soundManager.js',type:'js'},{url:'pocketCode/scripts/ui/button.js',type:'js'},{url:'pocketCode/scripts/ui/canvas.js',type:'js'},{url:'pocketCode/scripts/ui/dialog.js',type:'js'},{url:'pocketCode/scripts/ui/input.js',type:'js'},{url:'pocketCode/scripts/ui/expander.js',type:'js'},{url:'pocketCode/scripts/ui/menu.js',type:'js'},{url:'pocketCode/scripts/ui/playerStartScreen.js',type:'js'},{url:'pocketCode/scripts/ui/playerToolbar.js',type:'js'},{url:'pocketCode/scripts/ui/scrollContainer.js',type:'js'},{url:'pocketCode/scripts/ui/deviceEmulator.js',type:'js'},{url:'pocketCode/scripts/view/pageView.js',type:'js'},{url:'pocketCode/scripts/view/playerPageView.js',type:'js'},{url:'pocketCode/scripts/view/playerViewportView.js',type:'js'},{url:'pocketCode/scripts/controller/controllerCore.js',type:'js'},{url:'pocketCode/scripts/controller/playerPageController.js',type:'js'},{url:'pocketCode/scripts/controller/playerViewportController.js',type:'js'},{url:'player/scripts/playerApplication.js',type:'js'},{url:'player/scripts/ui/playerMenu.js',type:'js'},],};if(!launchProject){var launchProject=function(a,b,c){PocketCode.Web.PlayerInterface.launchProject(a,b,c)}}
